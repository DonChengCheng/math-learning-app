import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

async function main() {
  console.log('开始创建高中和大学完整数学课程体系...')

  // 清理现有数据
  await prisma.progress.deleteMany()
  await prisma.problem.deleteMany()
  await prisma.lesson.deleteMany()
  await prisma.chapter.deleteMany()
  await prisma.course.deleteMany()

  // ===================== 高中数学课程体系 =====================

  // 高中数学必修第一册
  const highSchoolMath1 = await prisma.course.create({
    data: {
      title: '高中数学必修第一册',
      description: '集合与函数概念、一元二次函数方程不等式、函数概念与性质、指数函数与对数函数、三角函数',
      level: '高中',
      subject: '数学',
      order: 1,
      chapters: {
        create: [
          {
            title: '集合与常用逻辑用语',
            description: '学习集合的概念、运算和常用逻辑用语',
            order: 1,
            lessons: {
              create: [
                {
                  title: '集合的概念',
                  content: `# 集合的概念

## 集合的定义
集合是指具有某种特定性质的具体的或抽象的对象汇总而成的集体，这些对象称为该集合的元素。

## 集合的三个特性
1. **确定性**：集合中的元素必须是确定的
2. **互异性**：集合中的元素是互不相同的
3. **无序性**：集合中的元素没有顺序关系

## 元素与集合的关系
- 如果a是集合A的元素，记作a ∈ A，读作"a属于A"
- 如果a不是集合A的元素，记作a ∉ A，读作"a不属于A"

## 常用数集及其记号
- **自然数集**：N = {0, 1, 2, 3, ...}
- **正整数集**：N* = {1, 2, 3, ...}
- **整数集**：Z = {..., -2, -1, 0, 1, 2, ...}
- **有理数集**：Q
- **实数集**：R

## 集合的表示方法
1. **列举法**：{1, 2, 3, 4}
2. **描述法**：{x | x > 0}
3. **图示法**：韦恩图`,
                  order: 1,
                  problems: {
                    create: [
                      {
                        title: '集合元素关系',
                        content: '设A = {1, 2, 3}，判断：2____A（填∈或∉）',
                        type: 'fill_blank',
                        difficulty: 3,
                        points: 10,
                        answer: { correct: '∈' },
                        explanation: '2是集合A的元素，所以2∈A',
                        tags: ['集合', '元素关系']
                      }
                    ]
                  }
                },
                {
                  title: '集合间的基本关系',
                  content: `# 集合间的基本关系

## 子集
如果集合A的任意一个元素都是集合B的元素，那么集合A叫做集合B的子集，记作A ⊆ B。

## 真子集
如果A ⊆ B，且A ≠ B，那么集合A叫做集合B的真子集，记作A ⊊ B。

## 相等
如果A ⊆ B，且B ⊆ A，那么A = B。

## 空集
不含任何元素的集合叫做空集，记作∅。规定：空集是任何集合的子集。`,
                  order: 2
                },
                {
                  title: '集合的基本运算',
                  content: `# 集合的基本运算

## 交集
由所有属于A且属于B的元素组成的集合，记作A ∩ B。
A ∩ B = {x | x ∈ A 且 x ∈ B}

## 并集
由所有属于集合A或属于集合B的元素组成的集合，记作A ∪ B。
A ∪ B = {x | x ∈ A 或 x ∈ B}

## 补集
设U是一个集合，A是U的一个子集，由U中所有不属于A的元素组成的集合，叫做U中子集A的补集，记作∁ᵤA。`,
                  order: 3
                }
              ]
            }
          },
          {
            title: '一元二次函数、方程和不等式',
            description: '学习等式性质与不等式性质、基本不等式、二次函数性质',
            order: 2,
            lessons: {
              create: [
                {
                  title: '等式性质与不等式性质',
                  content: `# 等式性质与不等式性质

## 等式的基本性质
1. 如果a = b，那么b = a（对称性）
2. 如果a = b，b = c，那么a = c（传递性）
3. 如果a = b，那么a + c = b + c
4. 如果a = b，那么ac = bc

## 不等式的基本性质
1. 如果a > b，那么b < a
2. 如果a > b，b > c，那么a > c
3. 如果a > b，那么a + c > b + c
4. 如果a > b，c > 0，那么ac > bc
5. 如果a > b，c < 0，那么ac < bc`,
                  order: 1
                },
                {
                  title: '基本不等式',
                  content: `# 基本不等式

## 算术-几何平均不等式
如果a, b ∈ R⁺，那么 (a + b)/2 ≥ √(ab)，当且仅当a = b时等号成立。

## 基本不等式的变形
- a + b ≥ 2√(ab) (a, b > 0)
- ab ≤ ((a + b)/2)² (a, b > 0)

## 应用
基本不等式常用于求最值问题，利用"一正二定三相等"的条件。`,
                  order: 2
                }
              ]
            }
          },
          {
            title: '函数概念与性质',
            description: '函数的概念和图像、函数的基本性质、幂函数',
            order: 3,
            lessons: {
              create: [
                {
                  title: '函数的概念和图像',
                  content: `# 函数的概念和图像

## 函数的定义
设A、B是非空的数集，如果按照某个确定的对应关系f，使对于集合A中的任意一个数x，在集合B中都有唯一确定的数f(x)和它对应，那么就称f：A→B为从集合A到集合B的一个函数。

## 函数的三要素
1. **定义域**：自变量x的取值范围
2. **值域**：因变量y的取值范围
3. **对应关系**：变量间的对应法则

## 函数的表示方法
1. **解析法**：用数学表达式表示
2. **图象法**：用图形表示
3. **表格法**：用表格表示`,
                  order: 1,
                  problems: {
                    create: [
                      {
                        title: '函数定义域',
                        content: '函数f(x) = √(x-1)的定义域是？',
                        type: 'fill_blank',
                        difficulty: 3,
                        points: 15,
                        answer: { correct: '[1,+∞)' },
                        explanation: '根号下的表达式x-1≥0，所以x≥1',
                        tags: ['函数', '定义域']
                      }
                    ]
                  }
                },
                {
                  title: '函数的基本性质',
                  content: `# 函数的基本性质

## 单调性
设函数f(x)的定义域为I，如果对于定义域I内某个区间D上的任意两个自变量的值x₁、x₂，当x₁ < x₂时：
- 都有f(x₁) < f(x₂)，那么就说函数f(x)在区间D上是增函数
- 都有f(x₁) > f(x₂)，那么就说函数f(x)在区间D上是减函数

## 奇偶性
设函数f(x)的定义域为I，如果对于任意的x ∈ I：
- 都有f(-x) = f(x)，那么函数f(x)就叫做偶函数
- 都有f(-x) = -f(x)，那么函数f(x)就叫做奇函数`,
                  order: 2
                }
              ]
            }
          },
          {
            title: '指数函数与对数函数',
            description: '指数函数的概念图像性质、对数函数的概念图像性质',
            order: 4,
            lessons: {
              create: [
                {
                  title: '指数函数',
                  content: `# 指数函数

## 指数函数的定义
形如y = aˣ（a > 0且a ≠ 1）的函数叫做指数函数

## 指数函数的性质
### 当a > 1时：
- 定义域：R
- 值域：(0, +∞)
- 在R上单调递增
- 过点(0, 1)
- 当x → +∞时，y → +∞；当x → -∞时，y → 0⁺

### 当0 < a < 1时：
- 定义域：R
- 值域：(0, +∞)
- 在R上单调递减
- 过点(0, 1)
- 当x → +∞时，y → 0⁺；当x → -∞时，y → +∞

## 指数运算法则
- aᵐ · aⁿ = aᵐ⁺ⁿ
- (aᵐ)ⁿ = aᵐⁿ
- (ab)ⁿ = aⁿbⁿ`,
                  order: 1
                },
                {
                  title: '对数函数',
                  content: `# 对数函数

## 对数的定义
如果aˣ = N（a > 0, a ≠ 1, N > 0），那么数x叫做以a为底N的对数，记作x = log_a N

## 对数函数的定义
形如y = log_a x（a > 0且a ≠ 1）的函数叫做对数函数

## 对数函数的性质
### 当a > 1时：
- 定义域：(0, +∞)
- 值域：R
- 在(0, +∞)上单调递增
- 过点(1, 0)

### 当0 < a < 1时：
- 定义域：(0, +∞)
- 值域：R
- 在(0, +∞)上单调递减
- 过点(1, 0)

## 对数运算法则
- log_a(MN) = log_a M + log_a N
- log_a(M/N) = log_a M - log_a N
- log_a M^n = n log_a M`,
                  order: 2
                }
              ]
            }
          },
          {
            title: '三角函数',
            description: '任意角和弧度制、三角函数的概念、三角函数图像与性质',
            order: 5,
            lessons: {
              create: [
                {
                  title: '任意角和弧度制',
                  content: `# 任意角和弧度制

## 任意角的概念
角可以看作平面内一条射线绕着端点从一个位置旋转到另一个位置所成的图形。

## 角的分类
按旋转方向分：
- **正角**：按逆时针方向旋转形成的角
- **负角**：按顺时针方向旋转形成的角
- **零角**：射线没有旋转

## 弧度制
把长度等于半径长的弧所对的圆心角叫做1弧度的角，用符号rad表示。

## 弧度与角度的换算
- 180° = π rad
- 1° = π/180 rad ≈ 0.01745 rad
- 1 rad = 180°/π ≈ 57.30°`,
                  order: 1
                },
                {
                  title: '三角函数的定义',
                  content: `# 三角函数的定义

## 单位圆中的三角函数
设α是一个任意角，它的终边与单位圆交于点P(x, y)，那么：
- sin α = y
- cos α = x  
- tan α = y/x (x ≠ 0)

## 三角函数的基本性质
### 正弦函数 y = sin x
- 定义域：R
- 值域：[-1, 1]
- 周期：2π
- 奇偶性：奇函数

### 余弦函数 y = cos x
- 定义域：R
- 值域：[-1, 1]
- 周期：2π
- 奇偶性：偶函数

### 正切函数 y = tan x
- 定义域：{x | x ≠ kπ + π/2, k ∈ Z}
- 值域：R
- 周期：π
- 奇偶性：奇函数`,
                  order: 2
                }
              ]
            }
          }
        ]
      }
    }
  })

  // 高中数学必修第二册
  const highSchoolMath2 = await prisma.course.create({
    data: {
      title: '高中数学必修第二册',
      description: '立体几何初步、平面解析几何初步',
      level: '高中',
      subject: '数学',
      order: 2,
      chapters: {
        create: [
          {
            title: '立体几何初步',
            description: '空间几何体、点线面位置关系、直线平面平行垂直',
            order: 1,
            lessons: {
              create: [
                {
                  title: '空间几何体的结构',
                  content: `# 空间几何体的结构

## 多面体
由若干个平面多边形围成的几何体叫做多面体。
- **棱柱**：有两个面互相平行，其余各面都是四边形的多面体
- **棱锥**：有一个面是多边形，其余各面都是有一个公共顶点的三角形的多面体
- **棱台**：用一个平行于棱锥底面的平面去截棱锥，截面与底面之间的部分

## 旋转体
由一个平面图形绕它所在平面内的一条定直线旋转所形成的封闭几何体。
- **圆柱**：矩形绕一边旋转形成
- **圆锥**：直角三角形绕一直角边旋转形成
- **圆台**：直角梯形绕垂直于底边的腰旋转形成
- **球**：半圆绕直径旋转形成`,
                  order: 1
                },
                {
                  title: '空间几何体的三视图和直观图',
                  content: `# 空间几何体的三视图和直观图

## 三视图
物体的三视图是指主视图、左视图、俯视图。
- **主视图**：从物体的前面看得到的图形
- **左视图**：从物体的左面看得到的图形
- **俯视图**：从物体的上面看得到的图形

## 直观图
把空间图形画在平面上，使得既富有立体感，又能准确反映原图形各主要部分的位置关系和度量关系，这样的图形叫做空间图形的直观图。

## 斜二测画法
1. 在已知图形中取互相垂直的x轴和y轴，两轴相交于点O
2. 画直观图时，把它们画成对应的x'轴、y'轴，使∠x'O'y' = 45°（或135°）
3. 已知图形中平行于x轴的线段，在直观图中仍平行于x'轴且长度不变
4. 已知图形中平行于y轴的线段，在直观图中仍平行于y'轴且长度为原来的一半`,
                  order: 2
                }
              ]
            }
          },
          {
            title: '平面解析几何初步',
            description: '直线的倾斜角与斜率、直线的方程、圆的方程',
            order: 2,
            lessons: {
              create: [
                {
                  title: '直线的倾斜角与斜率',
                  content: `# 直线的倾斜角与斜率

## 直线的倾斜角
x轴正向与直线向上方向之间所成的角叫做直线的倾斜角。
- 倾斜角α的取值范围：0° ≤ α < 180°

## 直线的斜率
直线的倾斜角α的正切值叫做这条直线的斜率，常用k表示。
- k = tan α（α ≠ 90°）
- 当α = 90°时，直线的斜率不存在

## 过两点的直线的斜率公式
过两点P₁(x₁, y₁)、P₂(x₂, y₂)的直线的斜率：
k = (y₂ - y₁)/(x₂ - x₁) （x₁ ≠ x₂）`,
                  order: 1
                },
                {
                  title: '直线的方程',
                  content: `# 直线的方程

## 点斜式
已知直线上一点(x₀, y₀)和直线的斜率k，直线方程为：
y - y₀ = k(x - x₀)

## 斜截式
已知直线的斜率k和在y轴上的截距b，直线方程为：
y = kx + b

## 两点式
已知直线上两点P₁(x₁, y₁)、P₂(x₂, y₂)，直线方程为：
(y - y₁)/(y₂ - y₁) = (x - x₁)/(x₂ - x₁)

## 截距式
已知直线在x轴和y轴上的截距分别为a和b，直线方程为：
x/a + y/b = 1

## 一般式
Ax + By + C = 0 （A²+ B² ≠ 0）`,
                  order: 2
                }
              ]
            }
          }
        ]
      }
    }
  })

  // ===================== 大学数学课程体系 =====================

  // 高等数学（上）
  const calculus1 = await prisma.course.create({
    data: {
      title: '高等数学（上）',
      description: '函数与极限、导数与微分、微分中值定理与导数应用、不定积分、定积分',
      level: '大学',
      subject: '高等数学',
      order: 1,
      chapters: {
        create: [
          {
            title: '函数与极限',
            description: '函数、数列极限、函数极限、无穷小与无穷大、极限运算法则、极限存在准则、连续函数',
            order: 1,
            lessons: {
              create: [
                {
                  title: '函数',
                  content: `# 函数

## 函数的概念
设D是一个非空的数集，如果按某个确定的法则f，使对于集合D中的每一个数x，在数集Y中都有唯一确定的数y和它对应，那么就称这个对应法则f为从集合D到集合Y的一个函数。

## 函数的性质
### 有界性
设函数f(x)在数集X上有定义，如果存在数M > 0，使得对于任意x ∈ X，有|f(x)| ≤ M，则称f(x)在X上有界。

### 单调性
设函数f(x)在区间I上有定义，如果对于区间I上任意两点x₁、x₂，当x₁ < x₂时，恒有f(x₁) < f(x₂)，则称f(x)在区间I上单调递增。

### 奇偶性
设函数f(x)的定义域D关于原点对称，如果对于任意x ∈ D，有：
- f(-x) = f(x)，则称f(x)为偶函数
- f(-x) = -f(x)，则称f(x)为奇函数

### 周期性
设函数f(x)在数集X上有定义，如果存在正数T，使得对于任意x ∈ X，有x ± T ∈ X，且f(x + T) = f(x)，则称f(x)为周期函数，T称为f(x)的周期。`,
                  order: 1,
                  problems: {
                    create: [
                      {
                        title: '函数性质判断',
                        content: '判断函数f(x) = x³的奇偶性',
                        type: 'multiple_choice',
                        difficulty: 4,
                        points: 15,
                        answer: { correct: 'A', options: ['奇函数', '偶函数', '非奇非偶函数', '既奇又偶函数'] },
                        explanation: 'f(-x) = (-x)³ = -x³ = -f(x)，所以f(x) = x³是奇函数',
                        tags: ['函数', '奇偶性']
                      }
                    ]
                  }
                },
                {
                  title: '数列的极限',
                  content: `# 数列的极限

## 数列极限的定义
设{aₙ}为一数列，如果存在常数a，对于任意给定的正数ε（无论它多么小），总存在正整数N，使得当n > N时，恒有|aₙ - a| < ε，那么就称常数a是数列{aₙ}的极限，或者称数列{aₙ}收敛于a。

记作：lim(n→∞) aₙ = a 或 aₙ → a (n → ∞)

## 收敛数列的性质
1. **唯一性**：如果数列{aₙ}收敛，那么它的极限唯一
2. **有界性**：如果数列{aₙ}收敛，那么数列{aₙ}一定有界
3. **保号性**：如果lim(n→∞) aₙ = a，且a > 0（或a < 0），那么存在正整数N > 0，当n > N时，有aₙ > 0（或aₙ < 0）

## 数列极限的运算法则
如果lim(n→∞) aₙ = A，lim(n→∞) bₙ = B，那么：
1. lim(n→∞) (aₙ ± bₙ) = A ± B
2. lim(n→∞) (aₙ · bₙ) = A · B
3. lim(n→∞) (aₙ / bₙ) = A / B （若B ≠ 0）`,
                  order: 2
                },
                {
                  title: '函数的极限',
                  content: `# 函数的极限

## 函数极限的定义
### x → x₀时函数的极限
设函数f(x)在点x₀的某个去心邻域内有定义，如果存在常数A，对于任意给定的正数ε，总存在正数δ，使得当0 < |x - x₀| < δ时，有|f(x) - A| < ε，那么就称常数A为函数f(x)当x → x₀时的极限。

记作：lim(x→x₀) f(x) = A 或 f(x) → A (x → x₀)

### x → ∞时函数的极限
设函数f(x)当|x|大于某一正数时有定义，如果存在常数A，对于任意给定的正数ε，总存在正数X，使得当|x| > X时，有|f(x) - A| < ε，那么就称常数A为函数f(x)当x → ∞时的极限。

## 函数极限的性质
1. **唯一性**：如果lim(x→x₀) f(x)存在，那么这个极限唯一
2. **局部有界性**：如果lim(x→x₀) f(x) = A，那么存在常数M > 0和δ > 0，使得当0 < |x - x₀| < δ时，有|f(x)| ≤ M
3. **局部保号性**：如果lim(x→x₀) f(x) = A，且A > 0（或A < 0），那么存在常数δ > 0，使得当0 < |x - x₀| < δ时，有f(x) > 0（或f(x) < 0）`,
                  order: 3
                },
                {
                  title: '无穷小与无穷大',
                  content: `# 无穷小与无穷大

## 无穷小
如果函数f(x)当x → x₀（或x → ∞）时的极限为零，那么称函数f(x)为当x → x₀（或x → ∞）时的无穷小。

## 无穷大
如果函数f(x)当x → x₀（或x → ∞）时，对于任意给定的正数M，总存在正数δ（或正数X），使得当0 < |x - x₀| < δ（或|x| > X）时，有|f(x)| > M，那么称函数f(x)为当x → x₀（或x → ∞）时的无穷大。

## 无穷小的性质
1. 在同一个自变量的变化过程中，有限个无穷小的代数和仍是无穷小
2. 有界函数与无穷小的乘积是无穷小
3. 有限个无穷小的乘积仍是无穷小

## 无穷小与无穷大的关系
在同一自变量的变化过程中，如果f(x)为无穷大，则1/f(x)为无穷小；反之，如果f(x)为无穷小，且f(x) ≠ 0，则1/f(x)为无穷大。`,
                  order: 4
                }
              ]
            }
          },
          {
            title: '导数与微分',
            description: '导数概念、函数求导法则、高阶导数、隐函数及参数方程确定函数导数、微分',
            order: 2,
            lessons: {
              create: [
                {
                  title: '导数的概念',
                  content: `# 导数的概念

## 导数的定义
设函数y = f(x)在点x₀的某个邻域内有定义，如果极限
$$\\lim_{\\Delta x \\to 0} \\frac{f(x_0 + \\Delta x) - f(x_0)}{\\Delta x}$$
存在，则称函数f(x)在点x₀处可导，并称这个极限为函数f(x)在点x₀处的导数，记作f'(x₀)。

## 导数的几何意义
函数y = f(x)在点x₀处的导数f'(x₀)等于曲线y = f(x)在点(x₀, f(x₀))处的切线斜率。

## 导数的物理意义
导数表示函数在某点的瞬时变化率。

## 基本初等函数的导数公式
1. (C)' = 0 （C为常数）
2. (xⁿ)' = nxⁿ⁻¹
3. (sin x)' = cos x
4. (cos x)' = -sin x
5. (tan x)' = sec²x
6. (cot x)' = -csc²x
7. (sec x)' = sec x tan x
8. (csc x)' = -csc x cot x
9. (aˣ)' = aˣ ln a
10. (eˣ)' = eˣ
11. (log_a x)' = 1/(x ln a)
12. (ln x)' = 1/x`,
                  order: 1
                },
                {
                  title: '函数的求导法则',
                  content: `# 函数的求导法则

## 四则运算法则
设u = u(x)、v = v(x)都可导，则：
1. **(u ± v)' = u' ± v'**（和差法则）
2. **(uv)' = u'v + uv'**（乘积法则）
3. **(u/v)' = (u'v - uv')/v²** （v ≠ 0）（商法则）

## 复合函数求导法则（链式法则）
设y = f(u)，u = g(x)，且f(u)及g(x)都可导，则复合函数y = f[g(x)]的导数为：
$$\\frac{dy}{dx} = \\frac{dy}{du} \\cdot \\frac{du}{dx}$$

即：y'ₓ = y'ᵤ · u'ₓ

## 反函数的求导法则
设x = f(y)在区间Iᵧ内单调、可导且f'(y) ≠ 0，则其反函数y = f⁻¹(x)在区间Iₓ = {x | x = f(y), y ∈ Iᵧ}内也可导，且：
$$\\frac{dy}{dx} = \\frac{1}{\\frac{dx}{dy}}$$

即：[f⁻¹(x)]' = 1/f'(y)`,
                  order: 2
                }
              ]
            }
          }
        ]
      }
    }
  })

  // 线性代数
  const linearAlgebra = await prisma.course.create({
    data: {
      title: '线性代数',
      description: '行列式、矩阵、向量组线性相关性、线性方程组、特征值与特征向量、二次型',
      level: '大学',
      subject: '线性代数',
      order: 2,
      chapters: {
        create: [
          {
            title: '行列式',
            description: '行列式的定义、性质和计算',
            order: 1,
            lessons: {
              create: [
                {
                  title: '二阶与三阶行列式',
                  content: `# 二阶与三阶行列式

## 二阶行列式
二阶行列式定义为：
$$\\begin{vmatrix}
a_{11} & a_{12} \\\\
a_{21} & a_{22}
\\end{vmatrix} = a_{11}a_{22} - a_{12}a_{21}$$

## 三阶行列式
三阶行列式可以按第一行展开：
$$\\begin{vmatrix}
a_{11} & a_{12} & a_{13} \\\\
a_{21} & a_{22} & a_{23} \\\\
a_{31} & a_{32} & a_{33}
\\end{vmatrix} = a_{11}\\begin{vmatrix}
a_{22} & a_{23} \\\\
a_{32} & a_{33}
\\end{vmatrix} - a_{12}\\begin{vmatrix}
a_{21} & a_{23} \\\\
a_{31} & a_{33}
\\end{vmatrix} + a_{13}\\begin{vmatrix}
a_{21} & a_{22} \\\\
a_{31} & a_{32}
\\end{vmatrix}$$

## 行列式的几何意义
- 二阶行列式的绝对值等于以两个行向量为邻边的平行四边形的面积
- 三阶行列式的绝对值等于以三个行向量为邻棱的平行六面体的体积`,
                  order: 1,
                  problems: {
                    create: [
                      {
                        title: '二阶行列式计算',
                        content: '计算行列式的值：|2 3; 1 4|',
                        type: 'fill_blank',
                        difficulty: 4,
                        points: 15,
                        answer: { correct: '5' },
                        explanation: '2×4 - 3×1 = 8 - 3 = 5',
                        tags: ['行列式', '计算']
                      }
                    ]
                  }
                },
                {
                  title: 'n阶行列式',
                  content: `# n阶行列式

## n阶行列式的定义
n阶行列式是一个数，它等于所有取自不同行不同列的n个元素的乘积的代数和：
$$D = \\sum_{j_1j_2...j_n} (-1)^{τ(j_1j_2...j_n)} a_{1j_1}a_{2j_2}...a_{nj_n}$$

其中τ(j₁j₂...jₙ)是排列j₁j₂...jₙ的逆序数。

## 行列式按行（列）展开
n阶行列式等于它的任意一行（列）的各元素与其对应的代数余子式乘积之和：
$$D = \\sum_{j=1}^n a_{ij}A_{ij} = \\sum_{i=1}^n a_{ij}A_{ij}$$

其中Aᵢⱼ = (-1)ⁱ⁺ʲMᵢⱼ为元素aᵢⱼ的代数余子式，Mᵢⱼ为元素aᵢⱼ的余子式。`,
                  order: 2
                }
              ]
            }
          },
          {
            title: '矩阵',
            description: '矩阵的概念、运算、逆矩阵、矩阵的秩',
            order: 2,
            lessons: {
              create: [
                {
                  title: '矩阵的概念',
                  content: `# 矩阵的概念

## 矩阵的定义
由m×n个数aᵢⱼ（i = 1,2,...,m; j = 1,2,...,n）排成的m行n列的数表称为m行n列的矩阵，简称m×n矩阵。

$$A = \\begin{pmatrix}
a_{11} & a_{12} & \\cdots & a_{1n} \\\\
a_{21} & a_{22} & \\cdots & a_{2n} \\\\
\\vdots & \\vdots & \\ddots & \\vdots \\\\
a_{m1} & a_{m2} & \\cdots & a_{mn}
\\end{pmatrix}$$

## 特殊矩阵
### 零矩阵
所有元素都为零的矩阵称为零矩阵，记作O。

### 单位矩阵
主对角线上的元素都是1，其余元素都是0的n阶方阵称为n阶单位矩阵，记作E或I。

### 对角矩阵
除主对角线外的元素都为零的方阵称为对角矩阵。

### 上（下）三角矩阵
主对角线下（上）方的元素全为零的方阵称为上（下）三角矩阵。`,
                  order: 1
                },
                {
                  title: '矩阵的运算',
                  content: `# 矩阵的运算

## 矩阵的加法
设A = (aᵢⱼ)、B = (bᵢⱼ)是两个m×n矩阵，则A与B的和记作A + B，定义为：
A + B = (aᵢⱼ + bᵢⱼ)

## 数与矩阵的乘法
设k是一个数，A = (aᵢⱼ)是m×n矩阵，则数k与矩阵A的乘积记作kA，定义为：
kA = (kaᵢⱼ)

## 矩阵的乘法
设A = (aᵢⱼ)是m×s矩阵，B = (bᵢⱼ)是s×n矩阵，则矩阵A与B的乘积记作AB，定义为：
$$(AB)_{ij} = \\sum_{k=1}^s a_{ik}b_{kj}$$

## 矩阵转置
把矩阵A的行换成同序数的列得到的新矩阵，叫做A的转置矩阵，记作Aᵀ。

## 矩阵运算规律
1. A + B = B + A
2. (A + B) + C = A + (B + C)
3. A + O = A
4. A + (-A) = O
5. k(lA) = (kl)A
6. (k + l)A = kA + lA
7. k(A + B) = kA + kB
8. (AB)C = A(BC)
9. A(B + C) = AB + AC
10. (B + C)A = BA + CA
11. (AB)ᵀ = BᵀAᵀ`,
                  order: 2
                }
              ]
            }
          }
        ]
      }
    }
  })

  // 概率论与数理统计
  const probability = await prisma.course.create({
    data: {
      title: '概率论与数理统计',
      description: '随机事件和概率、随机变量及其分布、多维随机变量、数字特征、大数定律、参数估计、假设检验',
      level: '大学',
      subject: '概率统计',
      order: 3,
      chapters: {
        create: [
          {
            title: '随机事件和概率',
            description: '随机试验、样本空间、随机事件、频率与概率、等可能概型、条件概率',
            order: 1,
            lessons: {
              create: [
                {
                  title: '随机试验',
                  content: `# 随机试验

## 随机试验的特点
随机试验是概率论的基本概念，它具有以下特点：
1. **可重复性**：试验可以在相同的条件下重复进行
2. **多结果性**：每次试验的可能结果不止一个，且能事先明确试验的所有可能结果
3. **不确定性**：进行一次试验之前不能确定哪一个结果会出现

## 样本空间
随机试验E的所有可能结果组成的集合称为E的样本空间，记为S。
样本空间的元素，即E的每个结果，称为样本点。

## 随机事件
试验E的样本空间S的子集称为E的随机事件，简称事件。
- 基本事件：由一个样本点组成的单点集
- 必然事件：在每次试验中一定发生的事件，即样本空间S本身
- 不可能事件：在每次试验中一定不发生的事件，即空集∅

## 事件间的关系
### 包含关系
如果事件A发生必然导致事件B发生，则称事件B包含事件A，记作A ⊂ B。

### 相等关系
如果A ⊂ B且B ⊂ A，则称事件A与事件B相等，记作A = B。

### 和事件（并事件）
事件A与事件B的和事件，记作A ∪ B，表示A、B中至少有一个发生。

### 积事件（交事件）
事件A与事件B的积事件，记作A ∩ B或AB，表示A、B同时发生。

### 差事件
事件A与事件B的差事件，记作A - B，表示A发生但B不发生。

### 互斥事件
如果A ∩ B = ∅，则称事件A与事件B互斥（或互不相容）。`,
                  order: 1,
                  problems: {
                    create: [
                      {
                        title: '样本空间确定',
                        content: '抛两枚硬币，样本空间包含多少个基本事件？',
                        type: 'fill_blank',
                        difficulty: 4,
                        points: 10,
                        answer: { correct: '4' },
                        explanation: '样本空间为{(正,正), (正,反), (反,正), (反,反)}，共4个基本事件',
                        tags: ['概率', '样本空间']
                      }
                    ]
                  }
                },
                {
                  title: '概率的定义',
                  content: `# 概率的定义

## 频率的定义
在相同条件下，进行了n次试验，在这n次试验中，事件A发生的次数nₐ称为事件A发生的频数，比值nₐ/n称为事件A发生的频率，记为fn(A)。

## 概率的统计定义
设在相同条件下重复进行试验，如果随着试验次数的增加，事件A发生的频率fn(A)稳定地在某个常数附近摆动，则称这个常数为事件A的概率，记为P(A)。

## 概率的公理化定义
设E是随机试验，S是它的样本空间。对于E的每一事件A赋予一个实数，记为P(A)，称为事件A的概率。如果集合函数P(·)满足下列条件：
1. **非负性**：对于每一个事件A，有P(A) ≥ 0
2. **规范性**：对于必然事件S，有P(S) = 1
3. **可列可加性**：设A₁, A₂, ...是两两互斥的事件，即对于i ≠ j，AᵢAⱼ = ∅，则有
   $$P(\\bigcup_{i=1}^∞ A_i) = \\sum_{i=1}^∞ P(A_i)$$

## 概率的性质
1. P(∅) = 0
2. 若A₁, A₂, ..., Aₙ是两两互斥的事件，则
   $$P(\\bigcup_{i=1}^n A_i) = \\sum_{i=1}^n P(A_i)$$
3. 对于任一事件A，P(A) = 1 - P(Ā)
4. 若A ⊂ B，则P(B - A) = P(B) - P(A)，P(A) ≤ P(B)
5. 对于任意两个事件A、B，P(A ∪ B) = P(A) + P(B) - P(AB)`,
                  order: 2
                }
              ]
            }
          }
        ]
      }
    }
  })

  console.log('高中和大学完整数学课程体系创建完成！')
  
  const stats = await Promise.all([
    prisma.course.count(),
    prisma.chapter.count(), 
    prisma.lesson.count(),
    prisma.problem.count()
  ])

  console.log(`\\n📊 完整教育体系统计：`)
  console.log(`- 课程总数：${stats[0]}`)
  console.log(`- 章节总数：${stats[1]}`)
  console.log(`- 课时总数：${stats[2]}`)
  console.log(`- 练习题总数：${stats[3]}`)

  console.log(`\\n🎓 新增高中大学课程：`)
  console.log(`高中：必修第一册（5章节）、必修第二册（2章节）`)
  console.log(`大学：高等数学上（2章节）、线性代数（2章节）、概率论与数理统计（1章节）`)
  console.log(`总计新增：12个高中大学章节，涵盖完整高等数学教育内容`)
}

main()
  .catch((e) => {
    console.error(e)
    process.exit(1)
  })
  .finally(async () => {
    await prisma.$disconnect()
  })